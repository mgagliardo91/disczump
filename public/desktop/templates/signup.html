<dz-header></dz-header>
<div class="scrollable main-body">
    <div class="page-content" fit-page offset="-50">
        <div center-align style="height: 100%">
            <div class="portal-title cont-sm">
                <img src="/static/logo/logo_portal.png">
            </div>
             <dz-alert alert-data="signupAlert" class="form-small"></dz-alert>
            <div class="form-small" style="text-align: center; margin-bottom: 20px;">
                <a class="btn btn-primary" ng-click="getFBAccount()" ng-show="!facebook">Sign Up with Facebook</a>
                <div class="page-info input-note" ng-show="facebook">
                    The following information was pulled from your Facebook account. Please complete the form to continue.
                </div>
                
            </div>
            <div class="form-horizontal form-small" name="signup.form" ng-form  ng-enter="signup.form.$valid && doSignUp();">
                <div class="form-group">
                    <label for="account-first-name" class="col-sm-3 control-label">
                        First Name
                    </label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control validation" id="account-first-name" name="firstName" placeholder="First name" ng-model="signup.firstName" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-last-name" class="col-sm-3 control-label">
                        Last Name
                    </label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control validation" id="account-last-name" name="lastName" placeholder="Last name" ng-model="signup.lastName" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-postal-code" class="col-sm-3 control-label">
                        Postal Code
                    </label>
                    <div class="col-sm-5 col-marg-repl" style="position: relative">
                        <input type="text" class="form-control validation" valid-if="location.curLocation" name="location" id="account-postal-code" placeholder="Postal Code" ng-model="location.search" ng-model-options="{updateOn: 'default blur',debounce:{'default': 500,'blur': 0 }}" ng-focus="location.editable = true" ng-blur="hideLocResults();" key-scroll-list="location.results" selection="location.selResult" on-select="itemSelected">
                        <ul class="location-result-container" style="top: 34px;" id="location-results" ng-show="location.results.length && location.editable">
                            <li class="location-result handle-overflow" ng-repeat="result in location.results track by $index" ng-click="$event.stopPropagation(); setLocation(result);" ng-class="{'active':location.selResult == $index}" scroll-me="location.selResult == $index">{{result.address}}</li>
                        </ul>
                    </div>
                    <div class="col-sm-9 col-sm-offset-3" ng-show="location.curLocation">
                        <div class="page-info input-note round">
                            <span class="pull-right" style="cursor: pointer;" title="Clear Selection" ng-click="location.curLocation = undefined;"><i class="fa fa-close"></i></span>
                            <b>Selected location: </b>{{location.curLocation}}
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-email" class="col-sm-3 control-label">
                        Email
                    </label>
                    <div class="col-sm-9">
                        <input type="email" class="form-control validation" id="account-email" name="email" placeholder="Email" ng-model="signup.email" ng-focus="emailActive = true;" ng-blur="emailActive = false;" required>
                    </div>
                    <div class="col-sm-9 col-sm-offset-3" ng-show="emailActive">
                        <div class="page-info input-note round">
                            <div class="title">
                                Note:
                            </div>
                            <div class="body">
                                Your email will never be public and will only be used for account confirmation and subscribed notifications.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-username" class="col-sm-3 control-label">
                        Username
                    </label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control validation" id="account-username" placeholder="Username" ng-model="signup.username" ng-focus="usernameActive = true;" ng-blur="usernameActive = false;" required pattern-set="^[a-zA-Z0-9\_]{6,15}$">
                    </div>
                    <div class="col-sm-9 col-sm-offset-3" ng-show="usernameActive">
                        <div class="page-info input-note round">
                            <div class="title">
                                Required Format:
                            </div>
                            <div class="body">
                                <div class="format-item" ng-class="{'active': matchFormat('username', 'userLength')}">
                                    <span><i class="fa fa-check"></i></span>Between 6 and 15 characters
                                </div>
                                <div class="format-item" ng-class="{'active': matchFormat('username', 'userChars')}">
                                    <span><i class="fa fa-check"></i></span>Must be only letters, numbers and underscores
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-password" class="col-sm-3 control-label">
                        Password
                    </label>
                    <div class="col-sm-5">
                        <input type="password" class="form-control validation" id="account-username" placeholder="Password" ng-model="signup.password" ng-focus="pwActive = true;" ng-blur="pwActive = false;" required ng-pattern="/^.{6,}$/">
                    </div>
                    <div class="col-sm-9 col-sm-offset-3" ng-show="pwActive">
                        <div class="page-info input-note round">
                            <div class="title">
                                Required Format:
                            </div>
                            <div class="body">
                                <div class="format-item" ng-class="{'active': matchFormat('password', 'pwLength')}">
                                    <span><i class="fa fa-check"></i></span>Minumum 6 characters
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="account-vpassword" class="col-sm-3 control-label">
                        Verify Password
                    </label>
                    <div class="col-sm-5">
                        <input type="password" class="form-control validation" id="account-vpassword" placeholder="Retype password" ng-model="signup.vpassword" required must-match="signup.password">
                    </div>
                </div>
                <div class="legal-note"><i class="fa fa-info-circle"></i>By clicking <b>Sign Up</b>, I agree to the <a class="dz-blue hover-underline" href="#">Terms and Condtions</a> and <a class="dz-blue hover-underline" href="#">Privacy Policy</a>.</div>
                <div class="form-group">
                    <div class="col-sm-12">
                        <button class="btn btn-primary pull-right" ng-disabled="signup.form.$invalid || !location.curLocation" ng-click="signup.form.$valid && doSignUp();">{{loading ? 'Registering...' : 'Sign Up'}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>